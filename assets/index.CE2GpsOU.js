import{_ as e,a1 as s,l as t,au as a,B as i,u as o,g as r,w as n,r as l,o as c,e as p,z as m,q as g,c as d,k as h,d as u,t as v,E as w,av as P,F as y,f as C,aw as f,ax as _}from"./index-5ToWdtdz.js";import{s as I}from"./index.GcP5Wbr0.js";import{S as O}from"./swiper.BkjzGZ8z.js";const k={images:{type:Array,default:()=>[]},startPosition:{type:[Number,String],default:0},transition:{type:String,default:"press-fade"},showIndex:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},customStyle:{type:[String,Object],default:""},customClass:{type:String,default:""},closeable:{type:Boolean,default:!1},closeIcon:{type:String,default:"clear"},closeIconPosition:{type:String,default:"top-right"},zIndex:{type:Number,default:10}};const S=e({name:"PressImagePreview",components:{PressOverlay:a,PressIconPlus:t},mixins:[s(k),O],props:{...k},emits:["close","change"],data:()=>({active:0}),computed:{imagePreviewStyle(){return o(this.getPropOrData("customStyle"))}},watch:{startPosition:"setActive",show(e){e?(this.setActive(+this.getPropOrData("startPosition")),i((()=>{}))):this.$emit("close",{index:this.active,url:this.getPropOrData("images")[this.active]})}},mounted(){},methods:{showImagePreview(e){this.showDialog(e),this.setActive(e.startPosition||0)},onClosed(){},onChange(e){const{current:s=0}=e.detail;this.setActive(s)},emitClose(){this.getPropOrData("asyncClose")?this.promiseCallback("cancel"):(this.$emit("close"),this.innerShow=!1,this.promiseCallback("confirm"))},onClose(){this.emitClose()},onClickOverlay(){this.onClose()},onClickSwiperItem(){this.onClose()},setActive(e){e!==this.active&&(this.active=e,this.$emit("change",e))}}},[["render",function(e,s,t,a,i,o){const _=l("PressIconPlus"),I=f,O=P,k=l("PressOverlay");return c(),r(k,{show:e.innerShow,"custom-style":`background: rgba(0, 0, 0, 0.9);z-index: ${e.getPropOrData("zIndex")};`,onClick:o.onClickOverlay},{default:n((()=>[p("div",{class:g(["press-image-preview",[e.getPropOrData("customClass")]]),style:m(o.imagePreviewStyle)},[e.getPropOrData("showIndex")?(c(),d("div",{key:0,class:"press-image-preview__index"},v(i.active+1)+"/"+v(e.getPropOrData("images").length),1)):h("",!0),p("div",{class:g(["press-image-preview__close-icon",`press-image-preview__close-icon--${e.getPropOrData("closeIconPosition")}`]),onClick:s[0]||(s[0]=w(((...e)=>o.onClose&&o.onClose(...e)),["stop"]))},[e.getPropOrData("closeable")?(c(),r(_,{key:0,name:e.getPropOrData("closeIcon")},null,8,["name"])):h("",!0)],2),u(O,{class:"press-image-preview__swipe",current:i.active,onChange:o.onChange},{default:n((()=>[(c(!0),d(y,null,C(e.getPropOrData("images"),((e,s)=>(c(),r(I,{key:s,class:"press-image-preview__swipe-item",onClick:o.onClickSwiperItem},{default:n((()=>[p("div",{class:"press-image-preview__image-wrap"},[p("img",{class:"press-image-preview__image",src:e,fit:"contain"},null,8,["src"])])])),_:2},1032,["onClick"])))),128))])),_:1},8,["current","onChange"]),p("div")],6)])),_:1},8,["show","custom-style","onClick"])}],["__scopeId","data-v-647d8608"]]);function D(e){let s;return e.selector||(s=_(S,"pressImagePreview"),s.mode="functional"),I({...e,dialog:s,show:!0,showFunction:"showImagePreview"})}const x=D,b=D;export{S as I,x as i,b as s};
