import{_ as e,x as s,am as t,p as o,l as n,z as a,E as l,u as c,g as i,w as r,r as p,o as d,c as m,k as u,n as y,j as h,d as g,t as f,F as C,f as k,J as v,q as _,B as b,e as S}from"./index-DYsjskIW.js";import{P as I}from"./press-popup.B0MxTfvU.js";const P=e({name:"PressActionSheet",options:{...a,styleIsolation:"shared"},components:{PressIcon:n,PressPopup:I,PressLoading:o},mixins:[t],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},buttonStyle:{type:[String,Object],default:""},closeIconStyle:{type:[String,Object],default:""},...s},emits:["select","close","cancel","click-overlay","getuserinfo"],data:()=>({}),computed:{innerButtonStyle(){return c(this.buttonStyle)},innerCloseIconStyle(){return c([{},this.closeIconStyle])}},methods:{getActionClass:e=>`${l.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`,getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&"getUserInfo"===e.openType?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:t}=this;e&&(this.$emit("select",e),s&&this.onClose(),"getUserInfo"===e.openType&&t&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:e=>{this.$emit("getuserinfo",e)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},[["render",function(e,s,t,o,n,a){const l=p("PressIcon"),c=p("PressLoading"),I=v,P=p("PressPopup");return d(),i(P,{show:t.show,position:"bottom",round:t.round,"z-index":t.zIndex,overlay:t.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":t.safeAreaInsetBottom,"close-on-click-overlay":t.closeOnClickOverlay,onClose:a.onClickOverlay},{default:r((()=>[t.title?(d(),m("div",{key:0,class:"press-action-sheet__header"},[h(f(t.title)+" ",1),g(l,{name:"cross","custom-class":"press-action-sheet__close","custom-style":a.innerCloseIconStyle,onClick:a.onClose},null,8,["custom-style","onClick"])])):u("",!0),t.description?(d(),m("div",{key:1,class:"press-action-sheet__description press-hairline--bottom"},f(t.description),1)):u("",!0),t.actions&&t.actions.length?(d(),m("div",{key:2},[(d(!0),m(C,null,k(t.actions,((s,t)=>(d(),i(I,{key:t,"open-type":a.getOpenType(s),style:b(s.color?"color: "+s.color:""),"custom-style":a.innerButtonStyle,class:_(a.getActionClass(s)),"hover-class":"press-action-sheet__item--hover","data-index":t,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>a.onFakeSelect(s,t),onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting},{default:r((()=>[s.loading?(d(),i(c,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(d(),m(C,{key:0},[h(f(s.name)+" ",1),s.subname?(d(),m("div",{key:0,class:"press-action-sheet__subname"},f(s.subname),1)):u("",!0)],64))])),_:2},1032,["open-type","style","custom-style","class","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting"])))),128))])):u("",!0),y(e.$slots,"default",{},void 0,!0),t.cancelText?(d(),m(C,{key:3},[S("div",{class:"press-action-sheet__gap"}),S("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:s[0]||(s[0]=(...e)=>a.onCancel&&a.onCancel(...e))},f(t.cancelText),1)],64)):u("",!0)])),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}],["__scopeId","data-v-4cf32ffc"]]);export{P};
