import{_ as e,x as s,ag as o,p as t,l as n,y as a,A as l,g as i,w as c,r,o as p,c as d,k as m,n as h,j as u,d as g,t as y,F as f,f as k,G as C,q as v,z as _,e as P}from"./index-5ToWdtdz.js";import{P as b}from"./press-popup-plus.Brw2Nh3a.js";const x=e({name:"PressActionSheet",options:{...a,styleIsolation:"shared"},components:{PressIconPlus:n,PressPopup:b,PressLoading:t},mixins:[o],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...s},emits:["select","close","cancel","click-overlay","getuserinfo"],data:()=>({}),methods:{getActionClass:e=>`${l.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`,getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&"getUserInfo"===e.openType?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:o}=this;e&&(this.$emit("select",e),s&&this.onClose(),"getUserInfo"===e.openType&&o&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:e=>{this.$emit("getuserinfo",e)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},[["render",function(e,s,o,t,n,a){const l=r("PressIconPlus"),b=r("PressLoading"),x=C,I=r("PressPopup");return p(),i(I,{show:o.show,position:"bottom",round:o.round,"z-index":o.zIndex,overlay:o.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":o.safeAreaInsetBottom,"close-on-click-overlay":o.closeOnClickOverlay,onClose:a.onClickOverlay},{default:c((()=>[o.title?(p(),d("div",{key:0,class:"press-action-sheet__header"},[u(y(o.title)+" ",1),g(l,{name:"cross","custom-class":"press-action-sheet__close",onClick:a.onClose},null,8,["onClick"])])):m("",!0),o.description?(p(),d("div",{key:1,class:"press-action-sheet__description press-hairline--bottom"},y(o.description),1)):m("",!0),o.actions&&o.actions.length?(p(),d("div",{key:2},[(p(!0),d(f,null,k(o.actions,((s,o)=>(p(),i(x,{key:o,"open-type":a.getOpenType(s),style:_(s.color?"color: "+s.color:""),class:v(a.getActionClass(s)),"hover-class":"press-action-sheet__item--hover","data-index":o,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>a.onFakeSelect(s,o),onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting},{default:c((()=>[s.loading?(p(),i(b,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(p(),d(f,{key:0},[u(y(s.name)+" ",1),s.subname?(p(),d("div",{key:0,class:"press-action-sheet__subname"},y(s.subname),1)):m("",!0)],64))])),_:2},1032,["open-type","style","class","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting"])))),128))])):m("",!0),h(e.$slots,"default",{},void 0,!0),o.cancelText?(p(),d(f,{key:3},[P("div",{class:"press-action-sheet__gap"}),P("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:s[0]||(s[0]=(...e)=>a.onCancel&&a.onCancel(...e))},y(o.cancelText),1)],64)):m("",!0)])),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}],["__scopeId","data-v-98b51315"]]);export{x as P};
