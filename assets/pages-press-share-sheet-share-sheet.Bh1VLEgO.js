import{_ as e,x as t,z as s,E as o,c as i,e as n,F as c,f as a,q as r,o as l,d as p,w as h,k as d,t as m,J as u,g as y,r as w,n as S,j as k,P as v}from"./index-BfO-sNMx.js";import{P as b}from"./press-popup.fPfLedeo.js";const _=["qq","link","weibo","wechat","poster","qrcode","weapp-qrcode","wechat-moments"];const f={getIconURL:function(e){return-1!==_.indexOf(e)?`https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fshare-sheet-${e}.png`:e}};const C=e({options:{...s},components:{},props:{options:{type:Array,default:()=>[]},showBorder:Boolean,...t},emits:["select"],data:()=>({computed:f}),computed:{optionsClass(){const{showBorder:e}=this;return o.bem2("share-sheet__options",{border:e})}},methods:{onSelect(e){const{index:t}=e.currentTarget.dataset,s=this.options[t];this.$emit("select",Object.assign(Object.assign({},s),{index:t}))}}},[["render",function(e,t,s,o,y,w){const S=u;return l(),i("div",{class:"press-share-sheet-options"},[n("div",{class:r(w.optionsClass)},[(l(!0),i(c,null,a(s.options,((e,s)=>(l(),i("div",{key:s,class:"press-share-sheet__option","data-index":s,onClick:t[0]||(t[0]=(...e)=>w.onSelect&&w.onSelect(...e))},[p(S,{class:"press-share-sheet__button","open-type":e.openType},{default:h((()=>[n("img",{src:y.computed.getIconURL(e.icon),class:"press-share-sheet__icon"},null,8,["src"]),e.name?(l(),i("div",{key:0,class:"press-share-sheet__name"},m(e.name),1)):d("",!0),e.description?(l(),i("div",{key:1,class:"press-share-sheet__option-description"},m(e.description),1)):d("",!0)])),_:2},1032,["open-type"])],8,["data-index"])))),128))],2)])}],["__scopeId","data-v-813b2469"]]);const g={isMulti:function(e){return null!=e&&null!=e[0]&&(Array.isArray(e)&&Array.isArray(e[0]))}};const O=e({i18n:{"zh-CN":{Custom:"自定义",qq:"QQ",name:"名称",link:"复制链接",title:"立即分享给好友",weibo:"微博",wechat:"微信",poster:"分享海报",qrcode:"二维码",multiLine:"展示多行选项",showSheet:"显示分享面板",withDesc:"展示描述信息",customIcon:"自定义图标",description:"描述信息",weappQrcode:"小程序码",wechatMoments:"朋友圈"},"en-US":{Custom:"Custom",qq:"QQ",name:"Name",link:"Link",title:"Share",weibo:"Weibo",wechat:"Wechat",poster:"Poster",qrcode:"Qrcode",multiLine:"Multi Line",showSheet:"Show ShareSheet",withDesc:"Show Description",customIcon:"Custom Icon",description:"Description",weappQrcode:"Weapp Qrcode",wechatMoments:"Wechat Moments"}},components:{PressShareSheet:e({name:"PressShareSheet",options:{...s},components:{PressPopup:b,PressShareOptions:C},props:{show:Boolean,overlayStyle:{type:String,default:""},zIndex:{type:Number,default:100},title:{type:String,default:""},cancelText:{type:String,default:"取消"},description:{type:String,default:""},options:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},duration:{type:Number,default:300},...t},emits:["click-overlay","cancel","select","close"],data:()=>({computed:g}),methods:{onClickOverlay(){this.$emit("click-overlay")},onCancel(){this.onClose(),this.$emit("cancel")},onSelect(e){this.$emit("select",e)},onClose(){this.$emit("close")}}},[["render",function(e,t,s,o,r,v){const b=w("PressShareOptions"),_=u,f=w("PressPopup");return l(),y(f,{round:"",class:"press-share-sheet",show:s.show,position:"bottom",overlay:s.overlay,duration:s.duration,"z-index":s.zIndex,"overlay-style":s.overlayStyle,"close-on-click-overlay":s.closeOnClickOverlay,"safe-area-inset-bottom":s.safeAreaInsetBottom,onClose:v.onClose,onClickOverlay:v.onClickOverlay},{default:h((()=>[n("div",{class:"press-share-sheet__header"},[n("div",{class:"press-share-sheet__title"},[S(e.$slots,"title",{},void 0,!0)]),s.title?(l(),i("div",{key:0,class:"press-share-sheet__title"},m(s.title),1)):d("",!0),n("div",{class:"press-share-sheet__description"},[S(e.$slots,"description",{},void 0,!0)]),s.description?(l(),i("div",{key:1,class:"press-share-sheet__description"},m(s.description),1)):d("",!0)]),r.computed.isMulti(s.options)?(l(!0),i(c,{key:0},a(s.options,((e,t)=>(l(),y(b,{key:t,"show-border":0!==t,options:e,onSelect:v.onSelect},null,8,["show-border","options","onSelect"])))),128)):(l(),y(b,{key:1,options:s.options,onSelect:v.onSelect},null,8,["options","onSelect"])),p(_,{type:"button",class:"press-share-sheet__cancel",onClick:v.onCancel},{default:h((()=>[k(m(s.cancelText),1)])),_:1},8,["onClick"])])),_:3},8,["show","overlay","duration","z-index","overlay-style","close-on-click-overlay","safe-area-inset-bottom","onClose","onClickOverlay"])}],["__scopeId","data-v-5f3bcaf6"]]),PressCell:v},data(){return{demoList:[{title:this.t("basicUsage"),list:[{title:this.t("basicUsage"),type:"basic"}]},{title:this.t("Custom"),list:[{title:this.t("multiLine"),type:"multiLine"},{title:this.t("customIcon"),type:"customIcon"},{title:this.t("withDesc"),type:"description"}]}],showShare:!1,description:"",curOptions:[]}},computed:{options(){return[{name:this.t("wechat"),icon:"wechat",openType:"share"},{name:this.t("weibo"),icon:"weibo"},{name:this.t("link"),icon:"link"},{name:this.t("poster"),icon:"poster"},{name:this.t("qrcode"),icon:"qrcode"}]},multiLineOptions(){return[[{name:this.t("wechat"),icon:"wechat"},{name:this.t("weibo"),icon:"weibo"},{name:this.t("qq"),icon:"qq"}],[{name:this.t("link"),icon:"link"},{name:this.t("poster"),icon:"poster"},{name:this.t("qrcode"),icon:"qrcode"}]]},customIconOptions(){return[{name:this.t("name"),icon:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fcustom-icon-fire.png"},{name:this.t("name"),icon:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fcustom-icon-light.png"},{name:this.t("name"),icon:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fcustom-icon-water.png"}]},descriptionOptions(){return[{name:this.t("wechat"),icon:"wechat"},{name:this.t("weibo"),icon:"weibo"},{name:this.t("link"),icon:"link",description:this.t("description")},{name:this.t("poster"),icon:"poster"},{name:this.t("qrcode"),icon:"qrcode"}]}},mounted(){this.curOptions=this.options},methods:{onShowShareSheet(e){let t="";switch(e){case"basic":this.curOptions=this.options;break;case"multiLine":this.curOptions=this.multiLineOptions;break;case"customIcon":this.curOptions=this.customIconOptions;break;case"description":this.curOptions=this.descriptionOptions,t=this.t("description")}this.showShare=!0,this.description=t},onSelect(e){console.log("[onSelect] val",e),this.showShare=!1},onClose(){this.showShare=!1}}},[["render",function(e,t,s,o,n,r){const d=w("PressCell"),m=w("demo-block"),u=w("PressShareSheet");return l(),i("div",{class:"demo-wrap"},[(l(!0),i(c,null,a(n.demoList,((e,t)=>(l(),y(m,{key:t,title:e.title},{default:h((()=>[(l(!0),i(c,null,a(e.list,(e=>(l(),y(d,{key:e.title,title:e.title,"is-link":"",onClick:t=>r.onShowShareSheet(e.type)},null,8,["title","onClick"])))),128))])),_:2},1032,["title"])))),128)),p(u,{show:n.showShare,title:e.t("title"),description:n.description,options:n.curOptions,onSelect:r.onSelect,onClose:r.onClose},null,8,["show","title","description","options","onSelect","onClose"])])}]]);export{O as default};
