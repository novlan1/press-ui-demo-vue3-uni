import{_ as e,u as s,v as t,c as o,e as r,k as n,F as a,f as l,I as u,q as c,t as i,o as d,B as h,j as p,d as f,w as y,S as m,r as g}from"./index-_6p3YC47.js";import{P as v}from"./press-number-keyboard.TkYbSeen.js";import"./press-popup.YJUIKGQd.js";const w=e({i18n:{"zh-CN":{info:"密码为 6 位数字",showInfo:"提示信息",addGutter:"格子间距",errorInfo:"密码错误",removeMask:"明文展示",customLength:"自定义长度"},"en-US":{info:"Some tips",showInfo:"Show Info",addGutter:"Add Gutter",errorInfo:"Password Mistake",removeMask:"Remove Mask",customLength:"Custom Length"}},components:{PressPasswordInput:e({name:"PressPasswordInput",props:{value:{type:String,default:""},info:{type:String,default:""},errorInfo:{type:String,default:""},mask:{type:Boolean,default:!0},focused:{type:Boolean,default:!1},gutter:{type:[Number,String],default:0},length:{type:[Number,String],default:6}},data:()=>({}),computed:{points(){const{value:e,gutter:o,focused:r,length:n}=this,a=[];for(let l=0;l<n;l++){const n=e[l],u=0!==l&&!o,c=r&&l===e.length;let i="";0!==l&&o&&(i=s({marginLeft:t(o)})),a.push({char:n,showBorder:u,showCursor:c,style:i,maskStyle:"visibility: "+(n?"visible":"hidden")})}return a}},mounted(){},methods:{onTouchStart(e){e.stopPropagation(),this.$emit("focus",e)}}},[["render",function(e,s,t,f,y,m){return d(),o("div",{class:"press-password-input"},[r("span",{class:c(["press-password-input__security",{"press-hairline--surround":!t.gutter}]),onClickPassive:s[0]||(s[0]=u(((...e)=>m.onTouchStart&&m.onTouchStart(...e)),["stop"]))},[(d(!0),o(a,null,l(m.points,((e,s)=>(d(),o("span",{key:s,class:c(["press-password-input__item",{"press-hairline--left":e.showBorder}]),style:h(e.style)},[t.mask?(d(),o("span",{key:0,class:"press-password-input__mask",style:h(e.maskStyle)},null,4)):(d(),o(a,{key:1},[p(i(e.char),1)],64)),e.showCursor?(d(),o("div",{key:2,class:"press-password-input__cursor"})):n("",!0)],6)))),128))],34),t.errorInfo||t.info?(d(),o("div",{key:0,class:c({"press-password-input__error-info":!!t.errorInfo,"press-password-input__info":!t.errorInfo})},i(t.errorInfo||t.info),3)):n("",!0)])}],["__scopeId","data-v-b33cbfe6"]]),PressNumberKeyboard:v},data:()=>({current:"",values:{showInfo:"123",addGutter:"123",basicUsage:"123",removeMask:"123",customLength:"123"},errorInfo:"",sectionStyle:"margin: 0;background: #f7f8fa;",headerStyle:"background: #f7f8fa;",scrollTop:0,originScrollTop:0,watermark:'<h5>我是h5标签我是h5标签我是h5标签我是h5标签</h5><p style="color:#f00">我是p标签</p><br><img style="width:30px" src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fpress-ui-avatar-transparent.png" />'}),methods:{onInput(e){if(!this.current)return;const s="customLength"===this.current?4:6,t=(this.values[this.current]+e).slice(0,s);this.values[this.current]=t,"showInfo"===this.current&&6===t.length&&"123456"!==t&&(this.errorInfo=this.t("errorInfo"))},onDelete(){this.current&&(this.values[this.current]=this.values[this.current].slice(0,this.values[this.current].length-1),"showInfo"===this.current&&(this.errorInfo=""))},onScroll(e){this.originScrollTop=e.detail.scrollTop},onFocus(e){this.current=e;const s="showInfo"===this.current?1e3:0;s&&(this.scrollTop=this.originScrollTop,setTimeout((()=>{this.scrollTop=s})))}}},[["render",function(e,s,t,n,a,l){const u=g("PressPasswordInput"),c=g("demo-block"),i=m,h=g("PressNumberKeyboard");return d(),o("div",{class:"demo-wrap demo-wrap--gray"},[f(i,{"scroll-y":"",enhanced:"","scroll-top":a.scrollTop,onScroll:l.onScroll},{default:y((()=>[f(c,{ref:"basicUsage",title:e.t("basicUsage"),"section-style":a.sectionStyle,"header-style":a.headerStyle},{default:y((()=>[f(u,{value:a.values.basicUsage,focused:"basicUsage"===a.current,onFocus:s[0]||(s[0]=()=>l.onFocus("basicUsage"))},null,8,["value","focused"])])),_:1},8,["title","section-style","header-style"]),f(c,{ref:"customLength",title:e.t("customLength"),"section-style":a.sectionStyle,"header-style":a.headerStyle},{default:y((()=>[f(u,{value:a.values.customLength,length:4,focused:"customLength"===a.current,onFocus:s[1]||(s[1]=()=>l.onFocus("customLength"))},null,8,["value","focused"])])),_:1},8,["title","section-style","header-style"]),f(c,{ref:"addGutter",title:e.t("addGutter"),"section-style":a.sectionStyle,"header-style":a.headerStyle},{default:y((()=>[f(u,{value:a.values.addGutter,gutter:10,focused:"addGutter"===a.current,onFocus:s[2]||(s[2]=()=>l.onFocus("addGutter"))},null,8,["value","focused"])])),_:1},8,["title","section-style","header-style"]),f(c,{ref:"removeMask",title:e.t("removeMask"),"section-style":a.sectionStyle,"header-style":a.headerStyle},{default:y((()=>[f(u,{mask:!1,value:a.values.removeMask,focused:"removeMask"===a.current,onFocus:s[3]||(s[3]=()=>l.onFocus("removeMask"))},null,8,["value","focused"])])),_:1},8,["title","section-style","header-style"]),f(c,{ref:"showInfo",title:e.t("showInfo"),"section-style":a.sectionStyle,"header-style":a.headerStyle},{default:y((()=>[f(u,{info:e.t("info"),value:a.values.showInfo,"error-info":a.errorInfo,focused:"showInfo"===a.current,onFocus:s[4]||(s[4]=()=>l.onFocus("showInfo"))},null,8,["info","value","error-info","focused"])])),_:1},8,["title","section-style","header-style"]),r("div",{class:"grid-padding"})])),_:1},8,["scroll-top","onScroll"]),f(h,{show:!!a.current,onClose:s[5]||(s[5]=e=>a.current=null),onInput:l.onInput,onBackspace:l.onDelete},null,8,["show","onInput","onBackspace"])])}],["__scopeId","data-v-e73a2166"]]);export{w as default};
