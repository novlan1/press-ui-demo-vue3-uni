import{u as e,v as s,_ as t,x as a,l,y as i,B as o,A as n,c,k as r,e as d,E as u,q as h,n as b,g as p,z as m,r as C,o as y}from"./index-5ToWdtdz.js";import{C as g,b as f}from"./relation.By8px8q3.js";import{f as k}from"./parent.B3qI5-tI.js";const S={iconStyle:function(t,a,l,i,o){const n={"font-size":s(o),"line-height":"1.25em"};return t&&a&&!l&&!i&&(n["border-color"]=t,n["background-color"]=t),e(n)}};function v(e,s){e.$emit("input",s),e.$emit("change",s)}const x=t({name:"PressCheckbox",options:{...i},components:{PressIconPlus:l},mixins:[g(f)],field:!0,props:{name:{type:String,default:""},value:Boolean,disabled:Boolean,useIconSlot:Boolean,checkedColor:{type:String,default:""},labelPosition:{type:String,default:"right"},labelDisabled:Boolean,shape:{type:String,default:"round"},iconSize:{type:[Number],default:20},iconClass:{type:String,default:""},labelClass:{type:String,default:""},customStyle:{type:[String,Object],default:""},...a},emits:["input","change"],data(){return{parentDisabled:!1,direction:"vertical",dataValue:this.value}},computed:{wrapStyle(){return e(this.customStyle)},innerLabelClass(){const{labelClass:e,labelPosition:s,disabled:t,parentDisabled:a}=this;return`${e} ${n.bem2("checkbox__label",[s,{disabled:t||a}])}`},checkboxClass(){const{direction:e,customClass:s}=this;return`${n.bem2("checkbox",[{horizontal:"horizontal"===e}])} ${s}`},iconStyle(){const{checkedColor:e,value:s,disabled:t,parentDisabled:a,iconSize:l}=this;return S.iconStyle(e,s,t,a,l)},innerIconClass(){const{shape:e,disabled:s,parentDisabled:t,dataValue:a}=this;return`${n.bem2("checkbox__icon",[e,{disabled:s||t,checked:a}])}`},iconCustomClass(){return this.iconClass},iconCustomStyle:()=>"line-height: 1.25em;"},watch:{value:{handler(e){this.dataValue=!!e}}},mounted(){this.update()},methods:{update(){this[f]&&this[f].updateChildren()},setData(e){Object.keys(e).forEach((s=>{this[s]=e[s]}))},emitChange(e){this[f]?this.setParentValue(this[f],e):v(this,e),o((()=>{k(this,"change")}))},toggle(){const{parentDisabled:e,disabled:s,dataValue:t}=this;s||e||this.emitChange(!t)},onClickLabel(){const{labelDisabled:e,parentDisabled:s,disabled:t,dataValue:a}=this;t||e||s||this.emitChange(!a)},setParentValue(e,s){const t=e.value.slice(),{name:a}=this,{max:l}=e;if(s){if(l&&t.length>=l)return;-1===t.indexOf(a)&&(t.push(a),v(e,t))}else{const s=t.indexOf(a);-1!==s&&(t.splice(s,1),v(e,t))}}}},[["render",function(e,s,t,a,l,i){const o=C("PressIconPlus");return y(),c("div",{class:h(i.checkboxClass),style:m(i.wrapStyle)},["left"===t.labelPosition?(y(),c("div",{key:0,class:h(i.innerLabelClass),onClick:s[0]||(s[0]=u(((...e)=>i.onClickLabel&&i.onClickLabel(...e)),["stop"]))},[b(e.$slots,"default",{},void 0,!0)],2)):r("",!0),d("div",{class:"press-checkbox__icon-wrap",onClick:s[1]||(s[1]=u(((...e)=>i.toggle&&i.toggle(...e)),["stop"]))},[t.useIconSlot?b(e.$slots,"icon",{key:0},void 0,!0):(y(),p(o,{key:1,name:"success",size:"0.8em",style:m(i.iconStyle),class:h(i.innerIconClass),"custom-class":i.iconCustomClass,"custom-style":i.iconCustomStyle},null,8,["style","class","custom-class","custom-style"]))]),"right"===t.labelPosition?(y(),c("div",{key:1,class:h(i.innerLabelClass),onClick:s[2]||(s[2]=u(((...e)=>i.onClickLabel&&i.onClickLabel(...e)),["stop"]))},[b(e.$slots,"default",{},void 0,!0)],2)):r("",!0)],6)}],["__scopeId","data-v-5a63ab29"]]);export{x as P};
