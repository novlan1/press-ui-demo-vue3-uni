import{u as e,v as s,_ as t,x as a,C as l,l as i,z as n,aa as o,G as c,E as r,c as d,k as u,e as h,I as b,q as p,n as m,g as C,B as y,r as g,o as k}from"./index-DCu1HSzP.js";import{f}from"./parent.B3qI5-tI.js";const S={iconStyle:function(t,a,l,i,n){const o={"font-size":s(n),"line-height":"1.25em"};return t&&a&&!l&&!i&&(o["border-color"]=t,o["background-color"]=t),e(o)}};function v(e,s){e.$emit("input",s),e.$emit("change",s)}const x=t({name:"PressCheckbox",options:{...n},components:{PressIcon:i},mixins:[l(o)],field:!0,props:{name:{type:String,default:""},value:Boolean,disabled:Boolean,useIconSlot:Boolean,checkedColor:{type:String,default:""},labelPosition:{type:String,default:"right"},labelDisabled:Boolean,shape:{type:String,default:"round"},iconSize:{type:[Number],default:20},iconClass:{type:String,default:""},labelClass:{type:String,default:""},customStyle:{type:[String,Object],default:""},...a},emits:["input","change"],data(){return{parentDisabled:!1,direction:"vertical",dataValue:this.value}},computed:{wrapStyle(){return e(this.customStyle)},innerLabelClass(){const{labelClass:e,labelPosition:s,disabled:t,parentDisabled:a}=this;return`${e} ${r.bem2("checkbox__label",[s,{disabled:t||a}])}`},checkboxClass(){const{direction:e,customClass:s}=this;return`${r.bem2("checkbox",[{horizontal:"horizontal"===e}])} ${s}`},iconStyle(){const{checkedColor:e,value:s,disabled:t,parentDisabled:a,iconSize:l}=this;return S.iconStyle(e,s,t,a,l)},innerIconClass(){const{shape:e,disabled:s,parentDisabled:t,dataValue:a}=this;return`${r.bem2("checkbox__icon",[e,{disabled:s||t,checked:a}])}`},iconCustomClass(){return this.iconClass},iconCustomStyle:()=>"line-height: 1.25em;"},watch:{value:{handler(e){this.dataValue=!!e}}},mounted(){this.update()},methods:{update(){this[o]&&this[o].updateChildren()},setData(e){Object.keys(e).forEach((s=>{this[s]=e[s]}))},emitChange(e){this[o]?this.setParentValue(this[o],e):v(this,e),c((()=>{f(this,"change")}))},toggle(){const{parentDisabled:e,disabled:s,dataValue:t}=this;s||e||this.emitChange(!t)},onClickLabel(){const{labelDisabled:e,parentDisabled:s,disabled:t,dataValue:a}=this;t||e||s||this.emitChange(!a)},setParentValue(e,s){const t=e.value.slice(),{name:a}=this,{max:l}=e;if(s){if(l&&t.length>=l)return;-1===t.indexOf(a)&&(t.push(a),v(e,t))}else{const s=t.indexOf(a);-1!==s&&(t.splice(s,1),v(e,t))}}}},[["render",function(e,s,t,a,l,i){const n=g("PressIcon");return k(),d("div",{class:p(i.checkboxClass),style:y(i.wrapStyle)},["left"===t.labelPosition?(k(),d("div",{key:0,class:p(i.innerLabelClass),onClick:s[0]||(s[0]=b(((...e)=>i.onClickLabel&&i.onClickLabel(...e)),["stop"]))},[m(e.$slots,"default",{},void 0,!0)],2)):u("",!0),h("div",{class:"press-checkbox__icon-wrap",onClick:s[1]||(s[1]=b(((...e)=>i.toggle&&i.toggle(...e)),["stop"]))},[t.useIconSlot?m(e.$slots,"icon",{key:0},void 0,!0):(k(),C(n,{key:1,name:"success",size:"0.8em",style:y(i.iconStyle),class:p(i.innerIconClass),"custom-class":i.iconCustomClass,"custom-style":i.iconCustomStyle},null,8,["style","class","custom-class","custom-style"]))]),"right"===t.labelPosition?(k(),d("div",{key:1,class:p(i.innerLabelClass),onClick:s[2]||(s[2]=b(((...e)=>i.onClickLabel&&i.onClickLabel(...e)),["stop"]))},[m(e.$slots,"default",{},void 0,!0)],2)):u("",!0)],6)}],["__scopeId","data-v-10042650"]]);export{x as P};
